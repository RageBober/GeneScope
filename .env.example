# ══════════════════════════════════════════════════════════════════════════════
# BioForge Configuration Example
# Copy this file to .env and modify as needed
# ══════════════════════════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────────────────────────
# Environment
# ─────────────────────────────────────────────────────────────────────────────
ENV=development          # development, testing, staging, production
DEBUG=true

# ─────────────────────────────────────────────────────────────────────────────
# Server
# ─────────────────────────────────────────────────────────────────────────────
HOST=0.0.0.0
PORT=8000
API_PREFIX=/api/v1

# ─────────────────────────────────────────────────────────────────────────────
# Database (PostgreSQL with asyncpg)
# ─────────────────────────────────────────────────────────────────────────────
DB_URL=postgresql+asyncpg://bioforge:bioforge@localhost:5432/bioforge
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_ECHO=false            # Set true to log SQL queries

# ─────────────────────────────────────────────────────────────────────────────
# Redis (Cache & ARQ Task Queue)
# ─────────────────────────────────────────────────────────────────────────────
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_SSL=false
REDIS_TIMEOUT=5
REDIS_CACHE_TTL=3600     # Default cache TTL in seconds

# ─────────────────────────────────────────────────────────────────────────────
# MinIO / S3 Compatible Storage
# ─────────────────────────────────────────────────────────────────────────────
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=bioforge
MINIO_SECRET_KEY=bioforge123
MINIO_SECURE=false       # Set true for HTTPS

# Bucket names
MINIO_BUCKET_RAW=bioforge-raw
MINIO_BUCKET_ALIGNED=bioforge-aligned
MINIO_BUCKET_VARIANTS=bioforge-variants
MINIO_BUCKET_REPORTS=bioforge-reports
MINIO_BUCKET_REFERENCES=bioforge-references

# ─────────────────────────────────────────────────────────────────────────────
# Security
# ─────────────────────────────────────────────────────────────────────────────
# Generate with: openssl rand -hex 32
SECURITY_SECRET_KEY=change-this-in-production
SECURITY_ALGORITHM=HS256
SECURITY_ACCESS_TOKEN_EXPIRE_MINUTES=30
SECURITY_REFRESH_TOKEN_EXPIRE_DAYS=7

# CORS (comma-separated origins)
SECURITY_CORS_ORIGINS=http://localhost:3000,http://localhost:5173
SECURITY_CORS_ALLOW_CREDENTIALS=false

# Rate limiting
SECURITY_RATE_LIMIT_ENABLED=true
SECURITY_RATE_LIMIT_PER_MINUTE=60

# ─────────────────────────────────────────────────────────────────────────────
# Local Storage
# ─────────────────────────────────────────────────────────────────────────────
STORAGE_UPLOAD_DIR=uploads
STORAGE_DATA_DIR=data
STORAGE_TEMP_DIR=temp
STORAGE_MAX_FILE_SIZE=524288000  # 500MB

# ─────────────────────────────────────────────────────────────────────────────
# Bioinformatics Pipeline
# ─────────────────────────────────────────────────────────────────────────────
PIPELINE_REFERENCE_GENOME=GRCh38
PIPELINE_USE_DOCKER=true
PIPELINE_THREADS=4
PIPELINE_MEMORY_GB=8

# Docker images for tools
PIPELINE_BWA_IMAGE=biocontainers/bwa:v0.7.17_cv1
PIPELINE_GATK_IMAGE=broadinstitute/gatk:4.5.0.0
PIPELINE_SAMTOOLS_IMAGE=biocontainers/samtools:v1.9-4-deb_cv1

# ─────────────────────────────────────────────────────────────────────────────
# Observability (Production only)
# ─────────────────────────────────────────────────────────────────────────────
# OpenTelemetry OTLP endpoint
# OTLP_ENDPOINT=http://localhost:4317

# Loki for logs
# LOKI_URL=http://localhost:3100

# Prometheus metrics port
# PROMETHEUS_METRICS_PORT=9090
